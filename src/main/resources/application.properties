# ============================================
# Loan Origination System - Default Configuration
# ============================================
# This is the default configuration file.
# Environment-specific configurations should be in:
# - application-local.properties (local development)
# - application-dev.properties (development)
# - application-prod.properties (production)
# ============================================

spring.application.name=Loan Origination Final

# ====================
# Database Configuration
# ====================
# Uses environment variables with fallback to default values
spring.datasource.url=${DATABASE_URL}
spring.datasource.username=${DATABASE_USERNAME}
spring.datasource.password=${DATABASE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.maximum-pool-size=10

# ====================
# JPA Configuration
# ====================
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.batch_size=20

# ====================
# JWT Configuration
# ====================
# WARNING: Default JWT secret should NEVER be used in production
# Set JWT_SECRET_KEY environment variable in production
app.jwt.secret-key=${JWT_SECRET_KEY:your-256-bit-secret-key-change-this-in-production}
app.jwt.access-token-expiration=${JWT_ACCESS_EXPIRATION:30m}
app.jwt.refresh-token-expiration=${JWT_REFRESH_EXPIRATION:7d}
app.jwt.issuer=${JWT_ISSUER:loan-origination-system}
app.jwt.audience=${JWT_AUDIENCE:loan-origination-client}

# ====================
# Server Configuration
# ====================
server.port=${SERVER_PORT:8080}
# Removed context-path to avoid double /api prefix
# server.servlet.context-path=${SERVER_CONTEXT_PATH:/api}

# ====================
# Logging Configuration
# ====================
logging.level.com.example.los=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# ====================
# Security Configuration
# ====================
management.endpoints.web.exposure.include=health,info

# ====================
# File Upload Configuration
# ====================
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# ====================
# Redis Configuration
# ====================
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.timeout=${REDIS_TIMEOUT:2000ms}
spring.data.redis.lettuce.pool.max-active=${REDIS_POOL_MAX_ACTIVE:8}
spring.data.redis.lettuce.pool.max-idle=${REDIS_POOL_MAX_IDLE:8}
spring.data.redis.lettuce.pool.min-idle=${REDIS_POOL_MIN_IDLE:0}

# ====================
# Application Settings
# ====================
app.name=${APP_NAME:Loan Origination System}
app.version=${APP_VERSION:1.0.0}
app.environment=${APP_ENVIRONMENT:default}
